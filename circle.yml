machine:
  python:
    version: 3.6.1
  services:
    - postgresql
database:
  override:
    - createdb -U ubuntu xanadu-test
environment:
  FLASK_CONFIG: 'testing'
  PRESERVE_CONTEXT_ON_EXCEPTION: False
dependencies:
  pre:
    - pip install -r requirements.txt
test:
  override:
    - python manage.py tests
deployment:
  staging:
    branch: develop
    heroku:
      appname: xanadu-bucketlist
